<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<?provo dirname="installquick/"?>
<article version="5.1" xml:lang="en" xml:id="art.caasp.quickstart"
 xmlns="http://docbook.org/ns/docbook"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <?suse-quickstart color="suse"?>
 <title>&instquick;</title>
 <subtitle>&productname; &productnumber;</subtitle>
 <info>
  <productnumber>&productnumber;</productnumber><productname>&productname;</productname><date>
<?dbtimestamp format="B d, Y"?></date>
  <abstract>
   <para>
    &abstract_installquick;
   </para>

   <para>
    Use the following procedures to set up a new &productnamereg;
    &productnumber; cluster. This document gives a quick overview on how to run
    through a default installation of &productname; for the &amd64;/&intel64;
    architecture.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
<?suse-quickstart color="suse"?>
 <sect1 xml:id="sec.caasp.installquick">
  <title>Installing &productname;</title>

  <para>
   For more detailed installation instructions and deployment strategies, see
   the &productname; Documentation at
   <link xlink:href="http://www.suse.com/documentation/"/>.
  </para>

  <sect2 xml:id="sec.caasp.installquick.sysreqs">
   <title>Minimum System Requirements</title>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      any AMD64/Intel* EM64T processor (32-bit processors are not supported)
     </para>
    </listitem>
    <listitem>
     <para>
      512 MB physical RAM (1 GB or more recommended)
     </para>
    </listitem>
    <listitem>
     <para>
      12 GB available disk space (40 GB or more recommended for production use)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec.caasp.installquick.install.controller">
   <title>Installing a &productname; Controller Node</title>
   <para>
    Use these instructions if there is no existing Linux system on your
    machine, or if you want to replace an existing Linux system.
   </para>
   <procedure xml:id="pro.caasp.installquick.install.controller">
    <step>
     <para>
      Insert the &productname; DVD into the drive, then reboot the computer to
      start the installation program. On machines with a traditional BIOS you
      will see the graphical boot screen shown below. On machines equipped with
      UEFI, a slightly different boot screen is used. Secure boot on UEFI
      machines is supported.
     </para>
     <para>
      Use <keycap>F2</keycap> to change the language for the installer. A
      corresponding keyboard layout is chosen automatically. See
      <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_i_yast2_startup.html"/>
      for more information about changing boot options.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_boot.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_boot.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Select <guimenu>Installation</guimenu> on the boot screen, then press
      <keycap function="enter"/>. This boots the system and loads the
      &productname; installer.
     </para>
     <important>
      <title>VNC not supported</title>
      <para>
       &productname; &productnumber; does not support remote installations with
       <literal>Virtual Network Computing (VNC)</literal>.
      </para>
     </important>
    </step>
    <step>
     <!-- <para>
      Read the License Agreement. It is presented in the language you have
      chosen on the boot screen. <guimenu>License Translations</guimenu> are
      available. You need to accept the agreement by checking <guimenu>I Agree
      to the License Terms</guimenu> to install &productname;. Proceed with
      <guimenu>Next</guimenu>.
      </para>  -->
     <para>
      Configure the following mandatory settings on the <guimenu>Installation
      Overview</guimenu> screen.
     </para>

     <note>
      <title>Help and Release Notes</title>
      <para>
       From this point on, a brief help document and the Release Notes can be
       viewed from any screen during the installation process by selecting
       <guimenu>Help</guimenu> or <guimenu>Release Notes</guimenu> respectively.
      </para>
     </note>

     <variablelist>
      <varlistentry>
       <term>
        Registration Code or SMT Server URL
       </term>
       <listitem>
        <para>
         Enter the <guimenu>Registration Code or SMT Server URL</guimenu>. SMT
         Server URLs must use the <literal>https</literal> or
         <literal>http</literal> protocol; other schemes are not supported.
        </para>
        <!-- cwickert 2017-03-31: FIXME â€“ remove this before GA -->
        <note>
         <title>Registration is Currently Optional</title>
         <para>
          This is a pre-release of &productname; for public testing.
          Registration is optional, but unregistered systems will not be able
          to install product patches from the &suse; update channels.
         </para>
        </note>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Password for root User
       </term>
       <listitem>
        <para>
         Type a password for the system administrator account (called the
         &rootuser; user) and confirm it.
        </para>
        <warning>
         <title>
          Do not forget the &rootuser; Password
         </title>
         <para>
          You should never forget the &rootuser; password! After you entered it
          here, the password cannot be retrieved. See
          <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_i_yast2_user_root.html"/>
          for more information.
         </para>
        </warning>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Keyboard Layout
       </term>
       <listitem>
        <para>
         The <guimenu>Keyboard Layout</guimenu> is initialized with the language
         settings you have chosen on the boot screen. Change it here, if necessary.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        System Role
       </term>
       <listitem>
        <para>
         Select the <guimenu>System Role</guimenu> for your system.
        </para>
        <variablelist>
         <varlistentry>
          <term>
           Administration Dashboard
          </term>
          <listitem>
           <para>
            The controller node providing the administration dashboard for the
            cluster.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>
           Worker
          </term>
          <listitem>
           <para>
            A cluster node running containers or the container orchestration framework.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>
           Plain System
          </term>
          <listitem>
           <para>
            A plain node that can be used for testing and debugging purposes in your cluster, but it is not usually needed.
           </para>
          </listitem>
         </varlistentry>
        </variablelist>
       </listitem>
      </varlistentry>
     </variablelist>

     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_overview_admin.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_overview_admin.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>

     <para>
      Optionally, you can customize the following settings. If you do not make
      any changes, defaults are used. A brief summary of the settings is
      displayed below the respective settings option.
     </para>
     <variablelist>
      <varlistentry>
       <term>
        Partitioning
       </term>
       <listitem>
        <para>
         Review the partition setup proposed by the system and change it if
         necessary. You have the following options:
        </para>
        <variablelist>
         <varlistentry>
          <term>
           Select a harddisk
          </term>
          <listitem>
           <para>
            Select a disk to which install &productname; to with the
            recommended partitioning scheme.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term><guimenu>Custom Partitioning (for Experts)</guimenu>
          </term>
          <listitem>
           <para>
            Opens the <guimenu>Expert Partitioner</guimenu> described in
            <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_yast2_i_y2_part_expert.html"/>
            .
           </para>
           <warning>
            <title>
             For Experts only
            </title>
            <para>
             As the name suggests, the <guimenu>Expert Partitioner</guimenu> is
             for experts only. Custom partitioning schemes that do not meet the
             requirements of &productname; are not supported.
            </para>
            <itemizedlist>
             <title>
              Requirements for custom partitioning schemes
             </title>
             <listitem>
              <para>
               &productname; exclusively supports the file system types &btrfs; 
               and OverlayFS. A read-only &btrfs; file system is used for the
               root file system which enables transactional updates.
              </para>
             </listitem>
             <listitem>
              <para>
               For snapshots, partitions must have a capacity of at least 11 GB.
              </para>
             </listitem>
             <listitem>
              <para>
               Depending on the number and size of your containers, you will
               need sufficient space under the <literal>/var</literal> mount
               point.
              </para>
             </listitem>
            </itemizedlist>
           </warning>
          </listitem>
         </varlistentry>
        </variablelist>
        <para>
         To accept the proposed setup without any changes, choose
         <guimenu>Next</guimenu> to proceed.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Booting
       </term>
       <listitem>
        <para>
         This section shows the boot loader configuration. Changing the
         defaults is only recommended if really needed. Refer to
         <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_grub2.html"/>
         for details.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Network Configuration
       </term>
       <listitem>
        <para>
         If the network could not be configured automatically while starting
         the installation system, you have to manually configure the
         <guimenu>Network Settings</guimenu>. Please make sure at least one
         network interface is connected to the internet in order to register
         your product.
        </para>
        <para>
         By default, the installer will generate a unique host name. To set a
         custom name, enter host and domain in the
         <guimenu>Hostname/DNS</guimenu> tab.
        </para>
        <para>
         For more information on configuring network connections, refer to
         <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_basicnet_yast.html"/>
         .
        </para>
        <important>
         <title>
          Reliable Networking
         </title>
         <para>
          Please make sure all nodes are on the same network and can
          communicate without interruptions. If you are using host names to
          specify nodes, please make sure you have reliable DNS resolution
          at all times, especially in combination with DHCP.
         </para>
        </important>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Kdump
       </term>
       <listitem>
        <para>
         Kdump saves the memory image (<quote>core dump</quote>) to the file
         system in case the kernel crashes. This enables you to find the cause
         of the crash by debugging the dump file. Kdump is preconfigured but
         disabled by default. See
         <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_tuning/data/cha_tuning_kdump_basic.html"/>
         for more information.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        System Information
       </term>
       <listitem>
        <para>
         View detailed hardware information by clicking <guimenu>System
         Information</guimenu>. In this screen you can also change
         <guimenu>Kernel Settings</guimenu>. See
         <link xlink:href="https://www.suse.com/documentation/sles-12/book_sle_tuning/data/cha_tuning_io.html"/>
         for more information.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      Proceed with <guimenu>Next</guimenu>.
     </para>
     <tip>
      <title>Installing Product Patches at Installation Time</title>
      <para>
       If &productname; has been successfully registered at the &scc;, you are
       asked whether to install the latest available online updates during the
       installation. If choosing <guimenu>Yes</guimenu>, the system will be
       installed with the most current packages without having to apply the
       updates after installation. Activating this option is recommended.
      </para>
     </tip>
    </step>
    <step>
     <para>
      After you have finalized the system configuration on the
      <guimenu>Installation Overview</guimenu> screen, click
      <guimenu>Install</guimenu>. Up to this point no changes have been made to
      your system. After you click <guimenu>Install</guimenu> a second time,
      the installation process starts.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_confirm.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_confirm.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      During the installation, the progress is shown in detail on the
      <guimenu>Details</guimenu> tab.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_perform.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_perform.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      After the installation routine has finished, the computer is rebooted
      into the installed system.
     </para>
    </step>
   </procedure>
  </sect2>
  
  <sect2 xml:id="sec.caasp.installquick.worker">
   <title>Installing a &productname; Worker</title>
   <para>
    Worker nodes can be installed manually or with &ay;. Manual installation is
    only	feasible for a small number of workers. For larger numbers, &ay; is
    recommended.
   </para>
   <para>
    Before you can set up a worker, you have to install and bootstrap a
    controller node to run the administration dashboard. Refer to
    <xref linkend="sec.caasp.installquick.install.controller"/> for information
    on how to install the controller node
   </para>
   <sect3 xml:id="sec.caasp.installquick.worker.manual">
    <title>Manual Installation</title>
    <procedure xml:id="pro.caasp.installquick.worker.manual">
     <step>
      <para>
       Follow the steps as described in
       <xref linkend="sec.caasp.installquick.install.controller"/>
      </para>
     </step>
     <step>
      <para>
       In step 3, select <literal>Worker</literal> as <guimenu>System
       Role</guimenu> and enter the host name or IP address of the 
       <guimenu>Controller Node</guimenu>.
      </para>
      <important>
       <title>
        Reliable Networking
       </title>
       <para>
        Please make sure all nodes are on the same network and can
        communicate without interruptions. If you are using host names to
        specify nodes, please make sure you have reliable DNS resolution
        at all times, especially in combination with DHCP.
       </para>
      </important>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="sec.caasp.installquick.worker.ay">
    <title>Installation with &ay;</title>
    <procedure xml:id="pro.caasp.installquick.worker.ay">
     <step>
      <para>
       Insert the &productname; DVD into the drive, then reboot the computer to
       start the installation program.
      </para>
     </step>
     <step>
      <informalfigure>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="install_boot_ay.png" width="100%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="install_boot_ay.png" width="100%"/>
        </imageobject>
       </mediaobject>
      </informalfigure>
      <para>
       Select <guimenu>Installation</guimenu> on the boot screen. Enter the
       necessary <literal>Boot Options</literal> for &ay; and networking,
       namely
      </para>
      <variablelist>
       <varlistentry>
        <term>
         autoyast
        </term>
        <listitem>
         <para>
          Path to the &ay; file. For more information, refer to
          <link xlink:href="https://www.suse.com/documentation/sles-12/book_autoyast/data/invoking_autoinst.html#commandline_ay"></link>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>
         netsetup
        </term>
        <listitem>
         <para>
          Network configration. If you are using dhcp, you can simply enter
          <literal>dhcp</literal>. For manual configurations, refer to
          <link xlink:href="https://www.suse.com/documentation/sles-12/book_autoyast/data/ay_adv_network.html"></link>.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para> 
       Press <keycap function="enter"/>. This boots the system and loads the
       &productname; installer.
      </para>
     </step>
     <step>
      <para>
       The rest of the installation will run fully automated. After a reboot,
       the worker will be added to your cluster and should show up in the
       dashboard. 
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 xml:id="sec.caasp.installquick.bootstrap">
   <title>Bootstrapping the &productname; Cluster</title>
   <para>
    In order to finalize the configuration and bootstrap your &productname;
    cluster, a few additional steps are required.
   </para>
   <procedure xml:id="pro.caasp.installquick.bootstrap">
    <step>
     <para>
      After the controller node has finished booting and you see the login
      prompt, point a web browser to the hostname or IP address to open the
      administration dashboard. The IP address is shown above the login prompt.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_login.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_login.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      To create an Administrator account, click <guimenu>Create an
       account</guimenu> and provide an e-mail address and a password. Confirm
      the password and click <guimenu>Create Admin</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_register.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_register.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Log in with your new administrator account.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_ca.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_ca.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      In order to secure transactions and communication between your cluster
      nodes, it is required to generate certificates. Enter the necessary
      information such as <guimenu>Company Name</guimenu> and
      <guimenu>E-Mail</guimenu> for your certificate authority (CA). Click
      <guimenu>Next</guimenu> to proceed.
     </para>
    </step>
    <step>
     <para>
      To complete the installation, it is necessary to bootstrap a few
      additional nodes; those will be the Kubernetes Master and Workers. This
      process leverages &ay; and is (almost) fully automated.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_nodes.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_nodes.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      The dashboard lists all worker nodes registered at the controller node.
      Select the one that should become the Kubernetes master and click 
      <guimenu>Bootstrap cluster</guimenu>. All other nodes will be set to the
      worker role.
     </para>
    </step>
    <step>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_status.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_status.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      Please wait while the cluster is bootstrapped. Once finished, the status
      indicator icon of the nodes changes accordingly and you can download the
      <command>kubectl</command> configuration file.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <xi:include href="common_copyright_quick.xml"/>
 <xi:include href="common_gfdl1.2_i.xml"/>
</article>
