<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<?provo dirname="installquick/"?>
<article version="5.1" xml:lang="en" xml:id="art.caasp.quickstart"
 xmlns="http://docbook.org/ns/docbook"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <?suse-quickstart color="suse"?>
 <title>&instquick;</title>
 <subtitle>&productname; &productnumber;</subtitle>
 <info>
  <productnumber>&productnumber;</productnumber><productname>&productname;</productname><date>
<?dbtimestamp format="B d, Y"?></date>
  <abstract>
   <para>
    &abstract_installquick;
   </para>

   <para>
    Use the following procedures to install a new version of &productnamereg;
    &productnumber;. This document gives a quick overview on how to run through
    a default installation of &productname; for the &amd64;/&intel64;
    architecture.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
<?suse-quickstart color="suse"?>
 <sect1 xml:id="sec.caasp.installquick">
  <title>Welcome to &productname;</title>

  <para>
   For more detailed installation instructions and deployment strategies, see
   the &productname; Documentation at
   <link xlink:href="http://www.suse.com/documentation/"/>.
  </para>

  <sect2 xml:id="sec.caasp.installquick.sysreqs">
   <title>Minimum System Requirements</title>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      any AMD64/Intel* EM64T processor (32-bit processors are not supported)
     </para>
    </listitem>
    <listitem>
     <para>
      512 MB physical RAM (1 GB or more recommended)
     </para>
    </listitem>
    <listitem>
     <para>
      11 GB available disk space (more recommended)
     </para>
    </listitem>
    <listitem>
     <para>
      800 x 600 display resolution (1024 x 768 or higher recommended)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec.caasp.installquick.install.controller">
   <title>Installing a &productname; controller node</title>
   <para>
    Use these instructions if there is no existing Linux system on your
    machine, or if you want to replace an existing Linux system.
   </para>
   <procedure>
    <step>
     <para>
      Insert the &productname; DVD into the drive, then reboot the computer to
      start the installation program. On machines with a traditional BIOS you
      will see the graphical boot screen shown below. On machines equipped with
      UEFI, a slightly different boot screen is used. Secure boot on UEFI
      machines is supported.
     </para>
     <para>
      Use <keycap>F2</keycap> to change the language for the installer. A
      corresponding keyboard layout is chosen automatically. <!-- See
      <xref linkend="sec.i.yast2.bootscreen"/> or
      <xref linkend="sec.i.yast2.bootscreen_uefi"/> for more information about
      changing boot options. -->
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_boot.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_boot.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Select <guimenu>Installation</guimenu> on the boot screen, then press
      <keycap function="enter"/>. This boots the system and loads the
      &productname; installer.
     </para>
    </step>
    <step>
     <!-- <para>
      Read the License Agreement. It is presented in the language you have
      chosen on the boot screen. <guimenu>License Translations</guimenu> are
      available. You need to accept the agreement by checking <guimenu>I Agree
      to the License Terms</guimenu> to install &productname;. Proceed with
      <guimenu>Next</guimenu>.
      </para>  -->
     <para>
      Enter the following mandatory settings on the
      <guimenu>Installation Overview</guimenu> screen.
     </para>
     <note>
      <title>Help and Release Notes</title>
      <para>
       From this point on, a brief help document and the Release Notes can be
       viewed from any screen during the installation process by selecting
       <guimenu>Help</guimenu> or <guimenu>Release Notes</guimenu> respectively.
      </para>
     </note>

     <variablelist>
      <varlistentry>
       <term>
        Registration Code or SMT Server URL
       </term>
       <listitem>
        <para>
         Enter the <guimenu>Registration Code or SMT Server URL</guimenu>. SMT
         Server URLs must use the <literal>https</literal> or
         <literal>http</literal> protocol; other schemes are not supported.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Password for root User
       </term>
       <listitem>
        <para>
         Type a password for the system administrator account (called the
         &rootuser; user) and confirm it.
        </para>
        <warning>
         <title>
          Do not forget the &rootuser; Password
         </title>
         <para>
          You should never forget the &rootuser; password! After you entered it
          here, the password cannot be retrieved. <!-- See
           <xref linkend="sec.i.yast2.user.root"/> for more information. -->
         </para>
        </warning>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Keyboard Layout
       </term>
       <listitem>
        <para>
         The <guimenu>Keyboard Layout</guimenu> is initialized with the language
         settings you have chosen on the boot screen. Change it here, if necessary.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        System Role
       </term>
       <listitem>
        <para>
         Select the <guimenu>System Role</guimenu> for your system.
        </para>
        <variablelist>
         <varlistentry>
          <term>
           Administration Dashboard
          </term>
          <listitem>
           <para>
            The controller node providing the administration dashboard for the
            cluster.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>
           Worker
          </term>
          <listitem>
           <para>
            A cluster node running containers.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>
           Plain System
          </term>
          <listitem>
           <para>
            A plain node that is part of the cluster but not used for running containers.
           </para>
          </listitem>
         </varlistentry>
        </variablelist>
       </listitem>
      </varlistentry>
     </variablelist>

     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_overview_admin.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_overview_admin.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>

     <para>
      Optionally, you can customize the following settings. If you do not make
      any changes, defaults are used. A brief summary of the settings is
      displayed below the respective settings option.
     </para>
     <variablelist>
      <varlistentry>
       <term>
        Partitioning
       </term>
       <listitem>
        <para>
         Review the partition setup proposed by the system and change it if
         necessary. You have the following options:
        </para>
        <variablelist>
         <varlistentry>
          <term>
           Select a harddisk
          </term>
          <listitem>
           <para>
            Select a disk to which install &productname; to with the
            recommended partitioning scheme.
           </para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term><guimenu>Custom Partitioning (for Experts)</guimenu>
          </term>
          <listitem>
           <para>
            Opens the <guimenu>Expert Partitioner</guimenu><!--described in
             <xref linkend="sec.yast2.i_y2_part_expert"/>-->.
           </para>
           <warning>
            <title>
             For Experts only
            </title>
            <para>
             As the name suggests, the <guimenu>Expert Partitioner</guimenu>
             is for experts only. Custom partitioning schemes that do not meet
             the requirements of &productname; are not supported.
            </para>
            <itemizedlist>
             <title>
              Requirements for custom partitioning schemes
             </title>
             <listitem>
              <para>
               &productname; exclusively supports the file system types &btrfs; 
               and OverlayFS. A read-only &btrfs; file system is used for the
               root file system which enables transactional updates.
              </para>
             </listitem>
             <listitem>
              <para>
               For snapshots, partitions must have a capacity of at least 11 GB.
              </para>
             </listitem>
             <listitem>
              <para>
               Depending on the number and size of your containers, you will
               need sufficient space under the <literal>/var</literal> mount
               point.
              </para>
             </listitem>
            </itemizedlist>
           </warning>
          </listitem>
         </varlistentry>
        </variablelist>
        <para>
         To accept the proposed setup without any changes, choose
         <guimenu>Next</guimenu> to proceed.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Booting
       </term>
       <listitem>
        <para>
         This section shows the boot loader configuration. Changing the
         defaults is only recommended if really needed. <!-- Refer to
          <xref linkend="cha.grub2"/> for details. -->
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Network Configuration
       </term>
       <listitem>
        <para>
         If the network could not be automatically configured while starting
         the installation system, you have to manually configure the
         <guimenu>Network Settings</guimenu>.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        Kdump
       </term>
       <listitem>
        <para>
         Kdump saves the memory image (<quote>core dump</quote>) to the file
         system in case the kernel crashes. This enables you to find the cause
         of the crash by debugging the dump file. Kdump is preconfigured and
         enabled by default. <!-- See <xref linkend="cha.tuning.kdump.basic"/> for
          more information. -->
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
        System Information
       </term>
       <listitem>
        <para>
         View detailed hardware information by clicking
         <guimenu>System Information</guimenu>. In the resulting screen you can also change
         <guimenu>Kernel Settings</guimenu>.<!--&mdash; See
          <xref linkend="sec.i.yast2.proposal.system"/> for more information. -->
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     
     <para>
      Proceed with <guimenu>Next</guimenu>.
     </para>
     <tip>
      <title>Installing Product Patches at Installation Time</title>
      <para>
       If &productname; has been successfully registered at the &scc;, you are
       asked whether to install the latest available online updates during the
       installation. If choosing <guimenu>Yes</guimenu>, the system will be
       installed with the most current packages without having to apply the
       updates after installation. Activating this option is recommended.
      </para>
     </tip>
    </step>
    <step>
     <para>
      After you have finalized the system configuration on the
      <guimenu>Installation Overview</guimenu> screen, click
      <guimenu>Install</guimenu>. Up to this point no changes have been made to
      your system. After you click <guimenu>Install</guimenu> a second time,
      the installation process starts.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_confirm.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_confirm.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      During the installation, the progress is shown in detail on the
      <guimenu>Details</guimenu> tab.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="install_perform.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="install_perform.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      After the installation routine has finished, the computer is rebooted
      into the installed system.   
     </para>
    </step>
   </procedure>
  </sect2>
  
  <sect2 xml:id="sec.caasp.installquick.controller.bootstrap">
   <title>Bootstrapping a &productname; controller node</title>
   <para>
    In order to finalize the configuration and bootstrap your &productname;
    cluster, a few additional steps are required.   
   </para>
   <procedure>
    <step>
     <para>
      After the controller node has finished booting and you see the login
      prompt, point a web browser to the hostname or IP address to open the
      administration dashboard.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_login.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_login.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      To create an Administrator account, click <guimenu>Create an
      account</guimenu> and provide an e-mail address and a password. Confirm
      the password and click <guimenu>Create Admin</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_register.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_register.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
     Log in with your new administrator account.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="velum_ca.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="velum_ca.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      In order to secure transactions and communication between your cluster
      nodes, it is required to generate certificates. Enter the necessary
      information such as <guimenu>Company Name</guimenu> and
      <guimenu>E-Mail</guimenu> for your certificate authority (CA). Click
      <guimenu>Next</guimenu> to proceed.
     </para>
    </step>
    <step>
     <para>
      In order to complete the installation, it is necessary to bootstrap a
      few additional nodes, those will be the Kubernetes Master and Workers.
      This process leverages &ay; and is (almost) fully automated.
     </para>
    </step>
    <step>
     <para>
      The system will automatically discover all available cluster nodes on the
      network. Select the master node and click <guimenu>Bootstrap
      cluster</guimenu>. All other nodes will be set to the worker role.
     </para>
     <important>
      <title>
       Reliable Networking
      </title>
      <para>
       Please make sure all nodes are on the same network and can
       communicate without interruptions. If you are using host names to
       specify nodes, please make sure you have reliable DNS resolution
       at all times, especially in combination with DHCP.
      </para>
     </important>
    </step>
   </procedure>
  </sect2> 
    
  <sect2 xml:id="sec.caasp.installquick.worker">
   <title>Installing a &productname; worker</title>
   <para>
    Worker nodes can be installed manually or with &ay;. Manual installation is
    only	feasible for a small number of workers. For larger numbers, &ay; is
    recommended.
   </para>
   <para>
    Before you can set up a worker, you have to install and bootstrap a
    controller node to run the administration dashboard. Refer to
    <xref linkend="sec.caasp.installquick.install.controller"/> for information
    in how to install the controller node
   </para>
   <sect3 xml:id="sec.caasp.installquick.worker.manual">
    <title>Manual Installation</title>
    <procedure>
     <step>
      <para>
       Follow the steps to described in 
       <xref linkend="sec.caasp.installquick.install.controller"/>
      </para>
     </step>
     <step>
      <para>
       In step 3, select <literal>Worker</literal> as <guimenu>System
       Role</guimenu> and enter the host name or IP address of the 
       <guimenu>Controller Node</guimenu>.
      </para>
      <important>
       <title>
        Reliable Networking
       </title>
       <para>
        Please make sure all nodes are on the same network and can
        communicate without interruptions. If you are using host names to
        specify nodes, please make sure you have reliable DNS resolution
        at all times, especially in combination with DHCP.
       </para>
      </important>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="sec.caasp.installquick.worker.ay">
    <title>Installation with &ay;</title>
    <procedure>
     <step>
      <para>
       Insert the &productname; DVD into the drive, then reboot the computer to
       start the installation program.
      </para>
     </step>
     <step>
      <informalfigure>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="install_boot_ay.png" width="100%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="install_boot_ay.png" width="100%"/>
        </imageobject>
       </mediaobject>
      </informalfigure>
      <para>
       Select <guimenu>Installation</guimenu> on the boot screen. Enter the
       necessary kernel parameters for &ay; and networking, namely
      </para>
      <variablelist>
       <varlistentry>
        <term>
         autoyast
        </term>
        <listitem>
         <para>
          Path to the &ay; file. For more information, refer to
          <link xlink:href="https://www.suse.com/documentation/sles-12/book_autoyast/data/invoking_autoinst.html#commandline_ay"></link>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>
         netsetup
        </term>
        <listitem>
         <para>
          Network configration. If you are using dhcp, you can simply enter
          <literal>dhcp</literal>. For manual configurations, refer to
          <link xlink:href="https://www.suse.com/documentation/sles-12/singlehtml/book_autoyast/book_autoyast.html#ay.adv_network"></link>.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para> 
       Press <keycap function="enter"/>. This boots the system and loads the
       &productname; installer.
      </para>
     </step>
     <step>
      <para>
       The rest of the installation will run fully automated. After a reboot,
       the worker will be added to your cluster and should show up in the
       dashboard. 
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
 <xi:include href="common_copyright_quick.xml"/>
 <xi:include href="common_gfdl1.2_i.xml"/>
</article>
