<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter version="5.0" xml:id="administration"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <info>
  <title>Cluster Administration</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="commands.cluster.managment">
  <title>Commands for Cluster Management</title>
  <para>
   
  </para>
  <sect2 xml:id="reboot.managment">
   <title>Rebooting Strategies</title>
   <para>
    In production you typically need to carefully shedule rebooting of your cluster as you may need to reboot during a specific time period and usually you do not want to reboot all nodes at the same time. &productname; involves a reboot manager that according to a passed configuration schedules rebooting of your cluster. The reboot manager is a daemon that is controlled by using the <command>rebootmgrctl</command> and configuration is stored in the <filename>/etc/rebootmgr.conf</filename>, an example follows:
   </para>
   <screen>[rebootmgr]
window-start=03:30
window-duration=1h20m
strategy=best-effort
lock-group=default</screen>

<para>
 The meaning of the options is the following:
</para>
<variablelist>
 <varlistentry>
  <term><literal>window-start</literal></term>
  <listitem>
   <para>
   configures the beginning of the reboot window in the format: <emphasis>HH:MM</emphasis>
   </para>
  </listitem>
 </varlistentry>
 <varlistentry>
  <entry><literal>window-duration</literal></entry>
 </varlistentry>
</variablelist>

   <para>
    In production you usually need to reboot your cluster without all nodes being down at the same time. To make sure that the whole cluster do not reboot at once, create groups of machines that can reboot at the same time. The groups are configured and managed by using <literal>etcd</literal>. For example you can create a group &ndash; called <emphasis>etcd_group</emphasis>, add all nodes you need and specify that only one etcd server may be rebooted at the same time. And then you can create another group &ndash; called workers, where you allow more nodes to be rebooted at the same time.
   </para>   
  </sect2>
 </sect1>
 
 <sect1 xml:id="transactional.updates">
  <title>Handling Transactional Updates</title>
 </sect1>
 <sect1 xml:id="node.managment">
  <title>Node Managment</title>
 </sect1>
  
</chapter>
